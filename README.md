# labinvent-task-java-app-bakulin
Backend application. Архитектура REST.

Версия Java SDK: 13.0.2.
Spring Boot: 2.5.2 (Spring WEB, Spring Security, Spring Data JPA)
Hibernate ORM

DataBase: MySQL v5.6 x64. Для запуска БД использовался Open Server.
Приложение разрабатывалось в IDE IntelliJ IDEA Standart edition.

Для запуска серверного приложения необходимо выполнить следующие действия:

1) Выполнить инициализацию MySQL базы данных на одной из реализаций локальных серверов. Я применял OpenServer MySQL v5.6-x64, порт: 3306.
2) Выполнить скрипт: CREATE DATABASE IF NOT EXISTS  invent_lab_test_task_bakulin; После чего убедиться, что база данных создана.
3) В корне ветви full_project находится документ "labinvent-task-java-app-bakulin/invent_lab_test_task_bakulin.sql", в нем находятся все необходимые скрипты для создания таблиц и заполнения базы данных информацией. В документе будут присутстовать комментарии PHPMyAdmin, которые будут проигнорированы компилятором MySQL.
4) После успешного создания и инициализации базы данных, скопируйте ссылку на указанный репозитроий. Важно, чтобы ветвь git называлась full_project.
5) Серверное приложения разрабатывалось мной в среде разработки IntelliJ IDEA Community Edition. Если вы используете другую, например Eclipse, я постараюсь переделать проект под нее, по вашему требованию.
6) Откройте IDE -> Projects -> Get From VCS -> в поле URL вставьте ссылку на репозиторий -> Clone. Выполните rebuild проекта, убедитесь, что система сборки проекта Maven загрузила все необходимые зависимости.
7) Далее выполните запуск серверного приложения, для этого необходимо запустить сервер с базой данных MySQL 5.6, затем открыть класс LabinventTestTaskApplication.java, расположенный в директории: src/main/java/com/bakulin/labinvent/test/task/runner/LabinventTestTaskApplication.java и запустить метод main(String[] args){}. Необходимо убедиться в том, что имя базы данных совпадает с именем, указанном в файле application.properties, раcположенном в директории: src/main/resources/application.properties, строка №6. Номер порта подключения к БД MySQL 3306, для успешного подключения к серверу мне пришлось добавить параметр serverTimezone=UTC в строке url базы данных.
8) На данном этапе можно протестировать приложение с помощью Postman, выполняя http запросы, описанные в контроллерах: UserController, SensorController (src/main/java/com/bakulin/labinvent/test/task/controller/). Серверное приложение будет запущено на порту 8081.

Время на разработку серверного приложения:
1) 04/07/2021 - 5 часов: анализ задания, генерация проекта на start.spring.io, создание Entity БД, JPA репозитроиев, создание примитивного Service слоя
2) 05/07/2021 ~ 7 часов: создание исключений к сущности User, HttpResponse, тестирование Service Layer, создание примитивного UserController, тестирование в Postman, устранение ошибок.
3) 06/07/2021 ~ 9 часов: проработка Security приложения на основе ролей, создание доступа к приложению на основе токенов JWT (JWTTokenProvider.java), конфигурирование Spring Security, создание фильтров и слушатлей успешной/неуспешной попытки авторизации.
4) 07/07/2021 - ~ 7 часов: тестирование Security приложения, /login, /user/list, /user/register, /user/add, /user/delete, /user/update, /user/password-reset, /logout, осуществление попыток доступа без авторизации, устранение ошибок.
5) 08/07/2021 - ~ 5 часов: создание angular приложения, базовых компонентов и хранения данных с сервера в localstorage: авторизованный пользователь(user), список пользователей (users), текущий jwt токен пользователя (token). В этот день мое самочувствие стало резко ухудшаться, а после я выяснил, что заболел covid-19.
6) 09/07/2021 - 29/07/2021 - болею covid-19. Примерно 20-21/07/2021 запушил первые варианты angular приложения и java.
7) 30/07/2021 ~ 9 часов: доработка angular приложения, более глубокое изучение материалов Angular CLI, Архитектуры Angular. Создание сервиса user.service, реализация методо компонента users.
8) 31/07/2021 ~ 9 часов: создание форм и управления доступа к формам, тестирование валидации форм, создание потраничной навигации таблицы пользователей, удаления токена, автроизованного пользователя и списка пользователя из локального хранилища браузера.
9) 01/08/2021 ~ 8 часов: приведение UI к ТЗ, путем применения фреймворка Bootstrap 4 для стилизации приложения.
10) 02/08/2021 ~ 10 часов (с перерывами): создание сущности Sensor, создание Service Layer и контроллера SensorController на серверном приложении, тестирование в Postman.
11) 03/08/2021 ~ 9 часов: доработка сущности Sensor, тестирование контроллера и сервиса в Postman.
12) 04/08/2021 ~ 10 часов: (с перерывами) Создание примитивного UI, тестирование форм, создание управления доступа к формам Sensor, создание валидации.
13) 05/08/2021 ~ 8 часов: приведение UI к ТЗ, путем применения фреймворка Bootstrap 4 для стилизации приложения.
14) 06/08/2021 ~ 11 часов: проработка постраничной навигации, устранение конфликта навигации users и sensors, тестирование форм просмотра информации о пользователе и сенсоров, тестирвоание форм добавления новых пользователей и сенсоров, доработка управления доступа к функционалу приложения, тестирование форм редактирования пользователей и сенсоров. Обнаружена глобальная ошибка - в формы приходят сложные объекты, особенно это было ярко выражено на сущности Sensor, что приводит к ошибкам и неудобному UI, попытка нивелировать ситуацию с помощью реализации @Injection Pipe, но это не дало нужного результата. Изучение информации о DTO (Data Transfer Object) и их применения.
15) 07/08/2021 - 09/08/2021 ~ 28-30 часов: (с перерывами конечно же) внедрение DTO, переработка сервисов, контроллеров на серверной части, аналогично на angular приложении, тестирование приложений.
16) 10/08/2021 - подготовка к отправке на Git, решение сопутствующих проблем, попытка вспомнить всю хронологию моих действий в процессе решения ТЗ.
